<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2. ì›ì¥ ìŠ¤íƒ€ì¼ 5ìœ í˜• ì§„ë‹¨ ì‹œìŠ¤í…œ</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="type-theme">
    <!-- ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
    <nav class="navbar">
        <div class="navbar-container">
            <a href="2.index-type.html" class="navbar-brand">
                <span>ğŸ¥</span>
                <span>2. ì›ì¥ ìŠ¤íƒ€ì¼ ì§„ë‹¨</span>
            </a>

            <button class="navbar-toggle" onclick="toggleMenu()">
                â˜°
            </button>

            <ul class="navbar-menu" id="navbarMenu">
                <li><a href="2.index-type.html" class="active">í™ˆ</a></li>
                <li><a href="#start">ì§„ë‹¨ ì‹œì‘</a></li>
                <li><a href="2.test-demo-type.html">ì‹œì—° ë³´ê¸°</a></li>
                <li><a href="1.index-revenue.html">1. ìˆ˜ìµ ë‹¨ê³„ë³„ ì§„ë‹¨</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <header>
            <h1>2. ì›ì¥ ìŠ¤íƒ€ì¼ 5ìœ í˜• ì§„ë‹¨ ì‹œìŠ¤í…œ</h1>
            <p class="subtitle">ë³‘ì› ë§ì¶¤ ì†”ë£¨ì…˜ ì œì•ˆì„ ìœ„í•œ ì „ëµì  ì§„ë‹¨ ë„êµ¬</p>
        </header>

        <main>
            <div class="intro-section">
                <h2>ì§„ë‹¨ ì†Œê°œ</h2>
                <p>ì´ ì§„ë‹¨ì€ ì›ì¥ë‹˜ì˜ <strong>ì„±í–¥Â·ì˜ì‚¬ê²°ì • ë°©ì‹Â·ë³‘ì› ìš´ì˜ ê´€ì </strong>ì„ ë¹ ë¥´ê²Œ íŒŒì•…í•˜ì—¬<br>
                ë³‘ì›ì— ìµœì í™”ëœ ì†”ë£¨ì…˜ì„ ì œì•ˆí•˜ê¸° ìœ„í•œ ë„êµ¬ì…ë‹ˆë‹¤.</p>

                <div class="info-box">
                    <h3>ì§„ë‹¨ ë°©ì‹</h3>
                    <ul>
                        <li>ì´ <strong>25ê°œ ì§ˆë¬¸</strong> (ì†Œìš”ì‹œê°„: 5~7ë¶„)</li>
                        <li>ê° ì§ˆë¬¸ë§ˆë‹¤ <strong>ê°€ì¥ ê°€ê¹Œìš´ ë‹µë³€ 1ê°œ(â—‹)</strong>, <strong>ë‘ ë²ˆì§¸ë¡œ ê°€ê¹Œìš´ ë‹µë³€ 1ê°œ(â–³)</strong> ì„ íƒ</li>
                        <li>ê²°ê³¼ëŠ” <strong>ì›ì¥ ìŠ¤íƒ€ì¼ 5ìœ í˜•</strong>ìœ¼ë¡œ ë¶„ë¥˜</li>
                        <li>ìœ í˜•ë³„ ë§ì¶¤ <strong>ì „ëµ ë¡œë“œë§µ</strong> ìë™ ìƒì„±</li>
                    </ul>
                </div>

                <div class="types-preview">
                    <h3>5ê°€ì§€ ì›ì¥ ìœ í˜•</h3>
                    <div class="type-cards">
                        <div class="type-card">
                            <div class="type-number">1</div>
                            <h4>ê²°ë‹¨Â·ì†ë„í˜•</h4>
                            <p>ë¹ ë¥¸ ì‹¤í–‰ê³¼ ì¦‰ê°ì  íš¨ê³¼ ì¤‘ì‹œ</p>
                        </div>
                        <div class="type-card">
                            <div class="type-number">2</div>
                            <h4>êµ¬ì¡°Â·ì•ˆì •í˜•</h4>
                            <p>ê¸°ì¤€ê³¼ ì‹œìŠ¤í…œí™” ì¤‘ì‹œ</p>
                        </div>
                        <div class="type-card">
                            <div class="type-number">3</div>
                            <h4>íŒ€Â·êµìœ¡í˜•</h4>
                            <p>ì§ì› ì„±ì¥ê³¼ ì¡°ì§ ì•ˆì • ì¤‘ì‹œ</p>
                        </div>
                        <div class="type-card">
                            <div class="type-number">4</div>
                            <h4>ìˆ˜ìµÂ·ê²½ì˜í˜•</h4>
                            <p>ROIì™€ KPI ì¤‘ì‹œ</p>
                        </div>
                        <div class="type-card">
                            <div class="type-number">5</div>
                            <h4>í™˜ìÂ·ì‹ ë¢°í˜•</h4>
                            <p>í™˜ì ê²½í—˜ê³¼ ì´ë¯¸ì§€ ì¤‘ì‹œ</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-section" id="start">
                <h2>ì§„ë‹¨ ì‹œì‘í•˜ê¸°</h2>

                <!-- ì´ë¯¸ ì •ë³´ê°€ ì…ë ¥ëœ ê²½ìš° í‘œì‹œ -->
                <div id="existingInfoSection" style="display: none;">
                    <div class="info-box" style="background: linear-gradient(135deg, #f0fdf4, #dcfce7); border-left-color: #10b981;">
                        <h3>âœ… ë³‘ì› ì •ë³´ê°€ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤</h3>
                        <p id="existingInfoDisplay" style="font-size: 1rem; line-height: 1.8; color: #1f2937; margin: 15px 0;"></p>
                        <p style="color: #6b7280; font-size: 0.95rem;">ì´ì „ ì§„ë‹¨ì—ì„œ ì…ë ¥í•˜ì‹  ì •ë³´ë¡œ ì§„í–‰ë©ë‹ˆë‹¤.</p>
                    </div>
                    <button type="button" class="btn-primary" onclick="startSurveyDirect()" style="margin-top: 20px;">
                        ì§„ë‹¨ ì‹œì‘í•˜ê¸° â†’
                    </button>
                    <button type="button" class="btn-secondary" onclick="showForm()" style="margin-top: 10px;">
                        ì •ë³´ ë‹¤ì‹œ ì…ë ¥í•˜ê¸°
                    </button>
                </div>

                <!-- ì •ë³´ ì…ë ¥ í¼ -->
                <form id="startForm">
                    <div class="form-group">
                        <label for="clinicName">ë³‘ì›ëª… *</label>
                        <input type="text" id="clinicName" required placeholder="ì˜ˆ: í™”ì´íŠ¸ ì„œìš¸ ì¹˜ê³¼">
                    </div>

                    <div class="form-group">
                        <label for="directorName">ì›ì¥ëª… *</label>
                        <input type="text" id="directorName" required placeholder="ì˜ˆ: ì„ì˜ì¼">
                    </div>

                    <div class="form-group">
                        <label for="region">ì§€ì—­ *</label>
                        <input type="text" id="region" required placeholder="ì˜ˆ: ëŒ€ì „ ì¤‘êµ¬">
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px;">
                        <div class="form-group">
                            <label for="doctorCount">ì˜ì‚¬ ìˆ˜ *</label>
                            <input type="number" id="doctorCount" required min="1" placeholder="ì˜ˆ: 1">
                        </div>

                        <div class="form-group">
                            <label for="nurseCount">ê°„í˜¸ì‚¬ ìˆ˜ *</label>
                            <input type="number" id="nurseCount" required min="1" placeholder="ì˜ˆ: 1">
                        </div>

                        <div class="form-group">
                            <label for="counselorCount">ìƒë‹´ì‚¬ ìˆ˜ *</label>
                            <input type="number" id="counselorCount" required min="0" placeholder="ì˜ˆ: 1">
                        </div>
                    </div>

                    <button type="submit" class="btn-primary">ì§„ë‹¨ ì‹œì‘í•˜ê¸°</button>
                </form>
            </div>
        </main>

        <footer>
            <p>&copy; 2026 ì¹˜ê³¼ë³‘ì› ì»¨ì„¤íŒ… ì†”ë£¨ì…˜ | 2. ì›ì¥ ìŠ¤íƒ€ì¼ ì§„ë‹¨ ì‹œìŠ¤í…œ</p>
            <a href="manager-dashboard.html" class="manager-dashboard-btn" style="display: inline-block; background: rgba(31, 41, 55, 0.8); color: rgba(255, 255, 255, 0.7); padding: 6px 12px; border-radius: 6px; text-decoration: none; font-size: 0.75rem; font-weight: 500; margin-top: 10px;">ğŸ” ë§¤ë‹ˆì € ëŒ€ì‹œë³´ë“œ</a>
        </footer>
    </div>

    <script>
        // ëª¨ë°”ì¼ ë©”ë‰´ í† ê¸€
        function toggleMenu() {
            const menu = document.getElementById('navbarMenu');
            menu.classList.toggle('active');
        }

        // ë©”ë‰´ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        document.addEventListener('click', function(event) {
            const menu = document.getElementById('navbarMenu');
            const toggle = document.querySelector('.navbar-toggle');
            const navbar = document.querySelector('.navbar');

            if (menu && toggle && navbar && !navbar.contains(event.target)) {
                menu.classList.remove('active');
            }
        });

        // ë°”ë¡œ ì„¤ë¬¸ ì‹œì‘
        function startSurveyDirect() {
            window.location.href = '2.survey-type.html';
        }

        // í¼ ë‹¤ì‹œ ë³´ì´ê¸°
        function showForm() {
            document.getElementById('existingInfoSection').style.display = 'none';
            document.getElementById('startForm').style.display = 'block';
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ê¸°ì¡´ ì •ë³´ í™•ì¸
        window.addEventListener('DOMContentLoaded', function() {
            const clinicName = sessionStorage.getItem('clinicName');
            const directorName = sessionStorage.getItem('directorName');
            const region = sessionStorage.getItem('region');
            const doctorCount = sessionStorage.getItem('doctorCount');
            const nurseCount = sessionStorage.getItem('nurseCount');
            const counselorCount = sessionStorage.getItem('counselorCount');

            // ëª¨ë“  ì •ë³´ê°€ ìˆëŠ” ê²½ìš° ê¸°ì¡´ ì •ë³´ ì„¹ì…˜ í‘œì‹œ
            if (clinicName && directorName && doctorCount && nurseCount && counselorCount) {
                const displayText = `
                    <strong>ë³‘ì›ëª…:</strong> ${clinicName}<br>
                    <strong>ì›ì¥ëª…:</strong> ${directorName} ì›ì¥ë‹˜<br>
                    <strong>ì§€ì—­:</strong> ${region || 'ë¯¸ì…ë ¥'}<br>
                    <strong>ì˜ì‚¬ ìˆ˜:</strong> ${doctorCount}ëª… | <strong>ê°„í˜¸ì‚¬ ìˆ˜:</strong> ${nurseCount}ëª… | <strong>ìƒë‹´ì‚¬ ìˆ˜:</strong> ${counselorCount}ëª…
                `;
                document.getElementById('existingInfoDisplay').innerHTML = displayText;
                document.getElementById('existingInfoSection').style.display = 'block';
                document.getElementById('startForm').style.display = 'none';
            } else {
                // ì •ë³´ê°€ ì—†ìœ¼ë©´ í¼ í‘œì‹œ
                document.getElementById('existingInfoSection').style.display = 'none';
                document.getElementById('startForm').style.display = 'block';
            }
        });

        // í¼ ì œì¶œ
        document.getElementById('startForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const clinicName = document.getElementById('clinicName').value;
            const directorName = document.getElementById('directorName').value;
            const region = document.getElementById('region').value;
            const doctorCount = document.getElementById('doctorCount').value;
            const nurseCount = document.getElementById('nurseCount').value;
            const counselorCount = document.getElementById('counselorCount').value;

            // ì§„ë‹¨ ì¼ì ì €ì¥ (í˜„ì¬ ë‚ ì§œ)
            const today = new Date();
            const diagnosisDate = today.getFullYear() + 'ë…„ ' +
                                  (today.getMonth() + 1) + 'ì›” ' +
                                  today.getDate() + 'ì¼';

            // ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ì— ì •ë³´ ì €ì¥
            sessionStorage.setItem('clinicName', clinicName);
            sessionStorage.setItem('directorName', directorName);
            sessionStorage.setItem('region', region);
            sessionStorage.setItem('doctorCount', doctorCount);
            sessionStorage.setItem('nurseCount', nurseCount);
            sessionStorage.setItem('counselorCount', counselorCount);
            sessionStorage.setItem('diagnosisDate', diagnosisDate);

            // ì„¤ë¬¸ í˜ì´ì§€ë¡œ ì´ë™
            window.location.href = '2.survey-type.html';
        });
    </script>
</body>
</html>
